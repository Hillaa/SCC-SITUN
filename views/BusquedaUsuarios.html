<!DOCTYPE html>
<html ng-app = "app">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="shortcut icon" href="../images/ico.ico" type="image/ico" />
        <title>Busqueda de Usuarios</title>
   	<script type="text/javascript" src="\..\javascripts\script_BusquedaUsuarios.js"></script>
  	<script src="\..\javascripts\jquery-1.12.2.js"></script>
	<script src="\..\javascripts\moment-2.15.1.js"></script>
	<script src="\..\javascripts\bootstrap-3-3-7.min.js"></script>
	<link rel="stylesheet" href="\..\stylesheets\bootstrap-3-3-7.min.css">
	<script src="\..\javascripts\bootstrap-datetimepicker-4.7.14.js"></script>
	<script src="\..\javascripts\angular.min.js"></script>
	<link rel="stylesheet" href="\..\stylesheets\bootstrap-datetimepicker-4.7.14.css">
	
    <body ng-app ng-controller = "ControllerAngular">

    <div id="menuDiv"></div>
   

	<!-- Trigger the modal with a button -->
<!-- Modal -->
<div class="col-md-1"></div>
	   
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
   
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="text-danger">Edición</h4>
      </div>
      <div class="modal-body">
		<center><table  id ="tablaAU">
                <tbody>
				<tr>
                    <td><label class="text-danger">Identificación</label></td>
					<td><div id="div0" class="form-group"><input id="IU0" type="text" class="form-control" disabled ></input></div></td>
				</tr>
				
				<tr>
                    <td><label class="text-danger">Nombre</label></td>
					<td><div id="div1" class="form-group"><textarea id="IU1" type="text" class="form-control" onfocus="cambioClase1(1)"  ></textarea></div></td>
				</tr>
				
				<tr>
                    <td> <label class="text-danger">Primer Apellido</label> </td>	
					<td><div id="div2" class="form-group"><textarea id="IU2" type="text" class="form-control" onfocus="cambioClase1(2)"></textarea></div></td>				 
				</tr>
				
                <tr>
                    <td> <label class="text-danger">Segundo Apellido</label> </td>
                   <td><div id="div3" class="form-group"><textarea id="IU3" type="text" class="form-control" onfocus="cambioClase1(3)"></textarea></div></td> 
                </tr>
				
                <tr>
				    <td><label class="text-danger" for="exampleInputPassword1" >Contraseña</label> </td> 
                    <td><div id="div4" class="form-group"><input type="password" class="form-control" id="IU4" onfocus="cambioClase1(4)" disabled></input></div> </td>  
					<td><button id="btnCambiar" type="button" class="btn btn-default"  onclick = "activar()" style= "margin-left:10px; margin-bottom:10px">Cambiar</button></td>
                </tr>
				
				<tr>
				    <td><label class="text-danger" for="exampleInputPassword1" style="display:none" id="LIU5">Confirmar Contraseña</label> </td> 
                    <td><div id="div5" class="form-group"><input type="password" class="form-control" id="IU5" style="display:none" onfocus="cambioClase1(5)"></input></div> </td>  
					
			   </tr>
				
				<tr>
                    <td> <label class="text-danger">Administrador </label></td>
					<td> <label class="text-danger" style=""><input  type="checkbox" id="administrador_checkbox" value="enlace_checkbox"></label></td>
                </tr>

				</tbody> 
	     </table>  </center>
		 
		
		
      </div>
      <div class="modal-footer">
	    <center><button type="button" class="btn btn-default" ng-click = "actualiza()">Guardar</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Cerrar</button></center>	
      </div>
    </div>

  </div>
  </div>

<!---nuevo eliminacion-->
<!-- CUADRO DE ELIMINACION -->

<!-- Modal -->

<div class="col-md-1"></div>
	   
<div id="myModal2" class="modal fade" role="dialog">
  <div class="modal-dialog">
   
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="text-danger">Eliminacion de Usuarios</h4>
      </div>
      <div class="modal-body">
		<center><table  id ="tablaAU">
                <tbody>
				<tr>
                    <td><label  class="text-danger">¿Desea eliminar al usuario </label>
					<label id="labelEliminar" class="text-danger"></label>
					<label id="labelEliminar2" class="text-danger"></label>
					<label id="labelEliminar3" class="text-danger"></label>
					<label id="labelEliminar4" class="text-danger"></label>
					</td>
					
					</tr>
				
				
				</tbody> 
	     </table>  </center>
		 
		
		
      </div>
      <div class="modal-footer">
	    <center><button type="button" class="btn btn-default" ng-click = "eliminarUsuarios(c)">Si</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">No</button></center>	
      </div>
    </div>

  </div>
  </div>
</div>

<!--cierra eliminacion-->

	   <!---Cuerpo--->
	   <body background="../../../../images/situn4.png">
	   

	
	
	   <div style="margin-left:30px">
           <span class="text-danger" style="margin-left:30px">
		 <h2 >Busqueda de Usuarios</h2> 
		 <h4 >Tipo de Busqueda</h4>
		 </span>
           <form class="navbar-form navbar-left">         
        
            <div   class="form-group ">
				<select class="form-control" id="opBusqueda" ng-model = "criterio">
					<option value="identificacion">Identificación     
                    <option value="nombre">Nombre					
					<option value="apellido1">Primer apellido                                         
					<option value="apellido2">Segundo apellido                                     
				</select> 
               
          
				<input type="text" class="form-control" id="buscar"  ng-keyup= "($event.which == 13)?buscar():0">
				<input type = "button" class="btn btn-default" id="buscar" value = "Buscar" ng-click="buscar()" >
				<input type = "button"class="btn btn-default" id ="cancelar" value = "Cancelar"  ng-click="clear()" >
            
			</div>
         <p align="left">
		 <div class="table table-bordered" >
	    <table class="table" id="tabla_busqueda">

		<thead> 
			<tr class="danger">
			<td>Identicación</td>
			<td>Nombre</td>
			<td>Primer apellido</td>
			<td>Segundo apellido</td>
			<td>Edición</td> 
			<td>Eliminar</td> <!--// VER -->
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat = "c in usuarios">
					<td> {{c.tp_4 }} </td>
					<td> {{c.tp_1 }} </td>
					<td> {{c.tp_2 }} </td>
					<td> {{c.tp_3 }} </td>
					<td> 
						<button   type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModal" ng-click="obtenerUsuario(c)"><img src="../../../../images/editar-usuario.png" width="20" height="20" /></button>
					</td>
					<td> 
						<button type="button" id="btnEliminar" class="btn btn-danger" data-toggle="modal" data-target="#myModal2" ng-click="obtenerUsuarios(c)" ng-disabled = "esDisabled(c.tp_4)"><img src="../../../../images/eliminar.png" width="20" height="20" /></button>
					</td>
			</tr>
		</tbody>       
	</table>

               </div></p>
      </form>
           
   
	   </div>
	
<script type="text/javascript">
  

$(document).ready(function() {
    // Solicita la informacion de la sesion si aun no existe en el storage
	$("#menuDiv").load("/HTML/menu");


});

let app = angular.module('app', []);


   app.controller('ControllerAngular', controllerAngular); 

</script>

  
    </body>
</html>